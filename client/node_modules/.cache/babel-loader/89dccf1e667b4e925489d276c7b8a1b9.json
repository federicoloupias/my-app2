{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\me\\\\Documents\\\\GitHub\\\\my-itinerary\\\\client\\\\src\\\\component\\\\ShowComments.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { Button, UncontrolledCollapse, CardBody, Card } from 'reactstrap';\n\nclass ShowComments extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        value: e.target.value\n      });\n    };\n\n    this.handleUpdate = () => {\n      this.setState({\n        toUpdate: true\n      });\n    };\n\n    this.submitUpdate = async e => {\n      e.preventDefault();\n      const body = {\n        user: this.props.user._id,\n        coment: this.state.value,\n        i: this.state.i\n      };\n      await axios.put(\"http://localhost:8080/api/edit/\".concat(this.props.itineraryId), body).then(res => {\n        return res;\n      }).then(data => {\n        this.setState({\n          comment: data.data[this.state.i]\n        });\n      }).catch(e => {\n        console.log(e);\n      });\n      this.setState({\n        toUpdate: false\n      });\n    };\n\n    this.handleDelete = () => {\n      axios.put(\"http://localhost:8080//api/delete/\".concat(this.props.itineraryId, \"/\").concat(this.props.comentId));\n      this.setState({\n        isEliminated: true\n      });\n    };\n\n    this.state = {\n      value: '',\n      comment: props.com,\n      i: props.index,\n      toUpdate: false,\n      isEliminated: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      id: \"toggler\",\n      style: {\n        marginBottom: '1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Mostrar Todos los Comentarios\"), this.state.isEliminated ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Deleted\")) : this.state.toUpdate ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.submitUpdate,\n      className: \"editForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      placeholder: this.state.comment.comment,\n      onChange: this.handleChange,\n      className: \"editInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Update\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))) : React.createElement(UncontrolledCollapse, {\n      toggler: \"#toggler\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Card, {\n      key: this.props.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, this.state.comment.comentario, this.props.auth.user.userName === this.state.comment.author ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Button, {\n      outline: true,\n      color: \"warning\",\n      onClick: this.handleUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Editar\"), React.createElement(Button, {\n      outline: true,\n      color: \"danger\",\n      onClick: this.handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Eliminar\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps)(ShowComments);","map":{"version":3,"sources":["C:/Users/me/Documents/GitHub/my-itinerary/client/src/component/ShowComments.jsx"],"names":["React","connect","axios","Button","UncontrolledCollapse","CardBody","Card","ShowComments","Component","constructor","props","handleChange","e","setState","value","target","handleUpdate","toUpdate","submitUpdate","preventDefault","body","user","_id","coment","state","i","put","itineraryId","then","res","data","comment","catch","console","log","handleDelete","comentId","isEliminated","com","index","render","marginBottom","key","comentario","auth","userName","author","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport axios from 'axios';\r\nimport { Button, UncontrolledCollapse, CardBody, Card  } from 'reactstrap';\r\n\r\n\r\nclass ShowComments extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            value: '',\r\n            comment: props.com,\r\n            i: props.index,\r\n            toUpdate: false,\r\n            isEliminated: false\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({value: e.target.value})\r\n    }\r\n\r\n    handleUpdate = () => {\r\n        this.setState({toUpdate: true})\r\n     }\r\n\r\n    submitUpdate = async (e) => {\r\n        e.preventDefault();\r\n        const body = {\r\n            user: this.props.user._id, \r\n            coment: this.state.value,\r\n            i: this.state.i\r\n        }\r\n\r\n        await axios.put(`http://localhost:8080/api/edit/${this.props.itineraryId}`, body)\r\n            .then(res => {\r\n                return res\r\n            })\r\n            .then(data => {\r\n                this.setState({comment: data.data[this.state.i]})\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n        this.setState({toUpdate: false})        \r\n    }\r\n\r\n    handleDelete = () => {\r\n       \r\n        axios.put(`http://localhost:8080//api/delete/${this.props.itineraryId}/${this.props.comentId}`)\r\n\r\n        this.setState({isEliminated: true})\r\n    }\r\n\r\n    render(){\r\n        return (\r\n        <div>\r\n            <Button color=\"primary\" id=\"toggler\" style={{ marginBottom: '1rem' }}>\r\n                    Mostrar Todos los Comentarios\r\n            </Button>\r\n            {this.state.isEliminated ? \r\n                <div >\r\n                    <p>Deleted</p>\r\n                </div>\r\n                :\r\n                this.state.toUpdate ? \r\n                <div>\r\n                        <form onSubmit={this.submitUpdate} className=\"editForm\">\r\n                            <input \r\n                                type=\"text\" \r\n                                value={this.state.value} \r\n                                placeholder={this.state.comment.comment}\r\n                                onChange={this.handleChange} \r\n                                className=\"editInput\">\r\n                            </input>\r\n                            <input type=\"submit\" value=\"Update\"></input>\r\n                        </form>\r\n                    </div>\r\n\r\n                    :\r\n            <UncontrolledCollapse toggler=\"#toggler\">\r\n                    <Card key={this.props.key}>\r\n                        <CardBody>\r\n                            {this.state.comment.comentario}\r\n                             {this.props.auth.user.userName === this.state.comment.author ?\r\n                  \r\n                                <div>\r\n                            <Button outline color=\"warning\" onClick={this.handleUpdate}>Editar</Button>\r\n                        <Button outline color=\"danger\" onClick={this.handleDelete} >Eliminar</Button>\r\n                            </div>\r\n                                :\r\n\r\n                                <div>\r\n\r\n                                </div>\r\n    }\r\n                        </CardBody>\r\n                        \r\n                         \r\n                    </Card>\r\n            </UncontrolledCollapse>\r\n    }\r\n        </div>\r\n    )     \r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user: state.auth.user,\r\n})\r\n\r\nexport default connect(mapStateToProps) (ShowComments);"]},"metadata":{},"sourceType":"module"}