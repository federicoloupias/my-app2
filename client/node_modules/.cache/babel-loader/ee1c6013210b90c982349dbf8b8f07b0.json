{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\me\\\\Documents\\\\GitHub\\\\my-itinerary\\\\client\\\\src\\\\component\\\\FavButton.jsx\";\nimport React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addFav } from '../actions/userActions';\nimport { recargarUsuario } from '../actions/authActions';\n\nclass FavButton extends Component {\n  componentDidMount() {\n    this.props.recargarUsuario();\n  }\n\n  agregarFav() {\n    const email = this.props.user.email;\n    const itinerayId = this.props.itineraryId;\n    let i = 0;\n    console.log(this.props.user.itinerariesFav.length);\n\n    if (this.props.user.itinerariesFav.length == 0) {\n      this.props.addFav(email, itinerayId);\n    } else {\n      while (i < this.props.user.itinerariesFav.length) {\n        if (itinerayId == this.props.user.itinerariesFav[i]) {\n          i = this.props.user.itinerariesFav.length;\n          console.log(\"ya fue agregado previamente\");\n        } else {\n          console.log(\"else\");\n          this.props.addFav(email, itinerayId);\n        }\n\n        i++;\n      }\n    }\n  }\n\n  render() {\n    console.log(this.props.user.itinerariesFav.length);\n    return React.createElement(Button, {\n      olor: \"primary\",\n      size: \"sm\",\n      onClick: this.agregarFav.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Favourite\");\n  }\n\n} // ItineraryList.propTypes = {\n//     getItineraries: PropTypes.func.isRequired,\n//     itineraries: PropTypes.object.isRequired\n// }\n\n\nFavButton.propTypes = {\n  addFav: PropTypes.func.isRequired,\n  recargarUsuario: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  addFav,\n  recargarUsuario\n})(FavButton);","map":{"version":3,"sources":["C:/Users/me/Documents/GitHub/my-itinerary/client/src/component/FavButton.jsx"],"names":["React","Component","Button","connect","PropTypes","addFav","recargarUsuario","FavButton","componentDidMount","props","agregarFav","email","user","itinerayId","itineraryId","i","console","log","itinerariesFav","length","render","bind","propTypes","func","isRequired","mapStateToProps","state","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,eAAT,QAAgC,wBAAhC;;AAIA,MAAMC,SAAN,SAAwBN,SAAxB,CAAiC;AAO3BO,EAAAA,iBAAiB,GAAE;AAEjB,SAAKC,KAAL,CAAWH,eAAX;AAED;;AAGHI,EAAAA,UAAU,GAAG;AAGT,UAAMC,KAAK,GAAG,KAAKF,KAAL,CAAWG,IAAX,CAAgBD,KAA9B;AACA,UAAME,UAAU,GAAG,KAAKJ,KAAL,CAAWK,WAA9B;AAEA,QAAIC,CAAC,GAAC,CAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWG,IAAX,CAAgBM,cAAhB,CAA+BC,MAA3C;;AACA,QAAG,KAAKV,KAAL,CAAWG,IAAX,CAAgBM,cAAhB,CAA+BC,MAA/B,IAAuC,CAA1C,EAA4C;AAE1C,WAAKV,KAAL,CAAWJ,MAAX,CAAkBM,KAAlB,EAAyBE,UAAzB;AACD,KAHD,MAGK;AAET,aAAOE,CAAC,GAAC,KAAKN,KAAL,CAAWG,IAAX,CAAgBM,cAAhB,CAA+BC,MAAxC,EAAgD;AAC9C,YAAGN,UAAU,IAAE,KAAKJ,KAAL,CAAWG,IAAX,CAAgBM,cAAhB,CAA+BH,CAA/B,CAAf,EAAiD;AAC/CA,UAAAA,CAAC,GAAC,KAAKN,KAAL,CAAWG,IAAX,CAAgBM,cAAhB,CAA+BC,MAAjC;AACAH,UAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACD,SAHD,MAGK;AACHD,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,eAAKR,KAAL,CAAWJ,MAAX,CAAkBM,KAAlB,EAAyBE,UAAzB;AACD;;AACDE,QAAAA,CAAC;AACF;AACF;AACI;;AAIHK,EAAAA,MAAM,GAAE;AAENJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWG,IAAX,CAAgBM,cAAhB,CAA+BC,MAA3C;AAEE,WAEA,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,IAAI,EAAC,IAA5B;AAAiC,MAAA,OAAO,EAAE,KAAKT,UAAL,CAAgBW,IAAhB,CAAqB,IAArB,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFA;AAMH;;AApD4B,C,CAuDjC;AACA;AACA;AACA;;;AA1DMd,S,CAEKe,S,GAAY;AACfjB,EAAAA,MAAM,EAAED,SAAS,CAACmB,IAAV,CAAeC,UADR;AAEflB,EAAAA,eAAe,EAAEF,SAAS,CAACmB,IAAV,CAAeC;AAFjB,C;;AA2DvB,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAEjC,SAAO;AACLd,IAAAA,IAAI,EAAEc,KAAK,CAACC,IAAN,CAAWf;AADZ,GAAP;AAGD,CALD;;AASA,eAAeT,OAAO,CAClBsB,eADkB,EAElB;AAAEpB,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAFkB,CAAP,CAEkBC,SAFlB,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { addFav } from '../actions/userActions';\r\nimport { recargarUsuario } from '../actions/authActions';\r\n\r\n\r\n\r\nclass FavButton extends Component{\r\n\r\n    static propTypes = {\r\n        addFav: PropTypes.func.isRequired,\r\n        recargarUsuario: PropTypes.func.isRequired\r\n      };\r\n\r\n      componentDidMount(){\r\n\r\n        this.props.recargarUsuario()\r\n\r\n      }\r\n   \r\n\r\n    agregarFav (){\r\n\r\n\r\n        const email = this.props.user.email;\r\n        const itinerayId = this.props.itineraryId;\r\n    \r\n        let i=0;\r\n        console.log(this.props.user.itinerariesFav.length)\r\n        if(this.props.user.itinerariesFav.length==0){\r\n\r\n          this.props.addFav(email, itinerayId);\r\n        }else{\r\n        \r\n    while (i<this.props.user.itinerariesFav.length) {\r\n      if(itinerayId==this.props.user.itinerariesFav[i]){\r\n        i=this.props.user.itinerariesFav.length;\r\n        console.log(\"ya fue agregado previamente\")\r\n      }else{\r\n        console.log(\"else\")\r\n        this.props.addFav(email, itinerayId);\r\n      }\r\n      i++;\r\n    }\r\n  }\r\n      };\r\n    \r\n\r\n\r\n    render(){\r\n\r\n      console.log(this.props.user.itinerariesFav.length)\r\n\r\n        return(\r\n\r\n        <Button olor=\"primary\" size=\"sm\" onClick={this.agregarFav.bind(this)}>\r\n            Favourite\r\n        </Button>\r\n        );\r\n    }\r\n}\r\n\r\n// ItineraryList.propTypes = {\r\n//     getItineraries: PropTypes.func.isRequired,\r\n//     itineraries: PropTypes.object.isRequired\r\n// }\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n \r\n  return {\r\n    user: state.auth.user\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { addFav, recargarUsuario })(FavButton);"]},"metadata":{},"sourceType":"module"}