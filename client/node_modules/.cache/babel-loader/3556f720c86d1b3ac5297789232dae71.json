{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\loupi\\\\Documents\\\\GitHub\\\\my-app\\\\client\\\\src\\\\component\\\\LogInGoogle.jsx\";\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport firebase from '../initializers/firebase';\nimport PropTypes from 'prop-types';\nimport { logout } from '../actions/authActions';\nimport { logInGoogle } from '../actions/authActions';\nimport { connect } from 'react-redux';\n\nclass LogInGoogle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n    this.state = {\n      userLoggedIn: false\n    };\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          userLoggedIn: true\n        });\n      } else {\n        this.setState({\n          userLoggedIn: false\n        });\n      }\n    });\n  }\n\n  login() {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider).then(res => {\n      console.log(res);\n      this.props.logInGoogle(res.credential);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  showButton() {\n    if (this.state.userLoggedIn) {} else {\n      return React.createElement(Button, {\n        variant: \"contained\",\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"LogIn With google\");\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.showButton());\n  }\n\n}\n\nLogInGoogle.propTypes = {\n  logInGoogle: PropTypes.func.isRequired,\n  logout: PropTypes.func.isRequired\n};\nexport default connect(null, {\n  logInGoogle,\n  logout\n})(LogInGoogle);","map":{"version":3,"sources":["C:/Users/loupi/Documents/GitHub/my-app/client/src/component/LogInGoogle.jsx"],"names":["React","Button","firebase","PropTypes","logout","logInGoogle","connect","LogInGoogle","Component","constructor","props","login","bind","state","userLoggedIn","componentDidMount","auth","onAuthStateChanged","user","setState","provider","GoogleAuthProvider","signInWithPopup","then","res","console","log","credential","catch","err","showButton","render","propTypes","func","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AAEA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,WAAT,QAA4B,wBAA5B;AAEA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,WAAN,SAA0BP,KAAK,CAACQ,SAAhC,CAAyC;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAX;AACA,SAAKR,MAAL,GAAY,KAAKA,MAAL,CAAYQ,IAAZ,CAAiB,IAAjB,CAAZ;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAC;AADJ,KAAb;AAGH;;AAODC,EAAAA,iBAAiB,GAAE;AACfb,IAAAA,QAAQ,CAACc,IAAT,GAAgBC,kBAAhB,CAAoCC,IAAD,IAAQ;AAC/C,UAAGA,IAAH,EAAQ;AACJ,aAAKC,QAAL,CAAc;AACVL,UAAAA,YAAY,EAAE;AADJ,SAAd;AAGH,OAJD,MAIK;AACD,aAAKK,QAAL,CAAc;AACVL,UAAAA,YAAY,EAAE;AADJ,SAAd;AAGH;AACI,KAVD;AAWH;;AAIDH,EAAAA,KAAK,GAAE;AACH,UAAMS,QAAQ,GAAG,IAAIlB,QAAQ,CAACc,IAAT,CAAcK,kBAAlB,EAAjB;AAEAnB,IAAAA,QAAQ,CAACc,IAAT,GAAgBM,eAAhB,CAAgCF,QAAhC,EACCG,IADD,CACMC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAKd,KAAL,CAAWL,WAAX,CAAuBmB,GAAG,CAACG,UAA3B;AACF,KAJD,EAIGC,KAJH,CAISC,GAAG,IAAG;AAEXJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AAEH,KARD;AASH;;AAKDC,EAAAA,UAAU,GAAE;AACR,QAAG,KAAKjB,KAAL,CAAWC,YAAd,EAA2B,CAE1B,CAFD,MAEK;AACD,aAAO,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,OAAO,EAAE,KAAKH,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAP;AAGH;AACJ;;AAGGoB,EAAAA,MAAM,GAAE;AAEJ,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC,KAAKD,UAAL,EAFD,CADA;AAOH;;AApEoC;;AAAnCvB,W,CAUCyB,S,GAAY;AACf3B,EAAAA,WAAW,EAAEF,SAAS,CAAC8B,IAAV,CAAeC,UADb;AAEf9B,EAAAA,MAAM,EAAED,SAAS,CAAC8B,IAAV,CAAeC;AAFR,C;AA+DnB,eAAe5B,OAAO,CAClB,IADkB,EAElB;AAAED,EAAAA,WAAF;AAAeD,EAAAA;AAAf,CAFkB,CAAP,CAGXG,WAHW,CAAf","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport firebase from '../initializers/firebase';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { logout } from '../actions/authActions';\r\nimport { logInGoogle } from '../actions/authActions';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nclass LogInGoogle extends React.Component{\r\nconstructor(props){\r\n    super(props);\r\n    this.login=this.login.bind(this);\r\n    this.logout=this.logout.bind(this)\r\n    this.state = {\r\n        userLoggedIn:false\r\n    };\r\n}\r\n\r\nstatic propTypes = {\r\n    logInGoogle: PropTypes.func.isRequired,\r\n    logout: PropTypes.func.isRequired\r\n  };\r\n\r\ncomponentDidMount(){\r\n    firebase.auth().onAuthStateChanged((user)=>{\r\nif(user){\r\n    this.setState({\r\n        userLoggedIn: true\r\n    })\r\n}else{\r\n    this.setState({\r\n        userLoggedIn: false\r\n    })\r\n}\r\n    })\r\n}\r\n\r\n\r\n\r\nlogin(){\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n  \r\n    firebase.auth().signInWithPopup(provider)\r\n    .then(res => {\r\n       console.log(res)\r\n       this.props.logInGoogle(res.credential)\r\n    }).catch(err =>{\r\n        \r\n        console.log(err)\r\n\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\nshowButton(){\r\n    if(this.state.userLoggedIn){\r\n        \r\n    }else{\r\n        return <Button variant=\"contained\" onClick={this.login}>\r\n        LogIn With google\r\n        </Button >\r\n    }\r\n}\r\n\r\n\r\n    render(){\r\n\r\n        return(\r\n        <div>\r\n        \r\n        {this.showButton()}\r\n\r\n        </div>\r\n        ) \r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(\r\n    null,\r\n    { logInGoogle, logout }\r\n  )(LogInGoogle);"]},"metadata":{},"sourceType":"module"}